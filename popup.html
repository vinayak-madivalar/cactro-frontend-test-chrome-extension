<!DOCTYPE html>
<html>
  <head>
    <title>Saved Highlights</title>
    <!-- REMOVED: <script src="https://cdn.tailwindcss.com"></script> to comply with CSP -->
    <style>
      /* Basic CSS styles replacing required Tailwind utilities for CSP compliance */
      body {
        width: 320px; /* w-80 (320px) */
        padding: 16px; /* p-4 */
        background-color: #f9fafb; /* bg-gray-50 */
        font-family: ui-sans-serif, system-ui, sans-serif; /* font-sans */
      }
      .highlight-item {
        border-left: 4px solid #4f46e5; /* Indigo 600 */
        background-color: white; /* bg-white */
        padding: 12px; /* p-3 */
        border-radius: 6px; /* rounded-md */
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1),
          0 1px 2px 0 rgba(0, 0, 0, 0.06); /* shadow-sm */
        display: flex;
        flex-direction: column;
        transition: box-shadow 0.2s;
      }
      .highlight-item:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05); /* hover:shadow-lg */
      }
      .highlight-list {
        max-height: 400px;
        overflow-y: auto;
        margin-top: 12px;
        padding: 4px;
      }
      .header {
        font-size: 1.25rem; /* text-xl */
        font-weight: 700; /* font-bold */
        color: #1f2937; /* text-gray-800 */
        margin-bottom: 16px; /* mb-4 */
        display: flex;
        align-items: center;
      }
      .text-truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
      .link {
        color: #6366f1; /* text-indigo-500 */
        max-width: 60%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .button-clear {
        margin-top: 16px;
        width: 100%;
        background-color: #ef4444; /* bg-red-500 */
        color: white;
        padding: 8px 16px;
        border-radius: 8px; /* rounded-lg */
        font-size: 0.875rem; /* text-sm */
        font-weight: 500; /* font-medium */
        transition: background-color 0.15s;
      }
      .button-clear:hover {
        background-color: #dc2626; /* hover:bg-red-600 */
      }

      /* Modal Styles */
      #confirmation-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(75, 85, 99, 0.5); /* bg-gray-600 opacity-50 */
        display: none; /* Controlled by JS */
        align-items: center;
        justify-content: center;
      }
      .modal-content {
        background-color: white;
        padding: 24px;
        border-radius: 8px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); /* shadow-2xl */
        width: 100%;
        max-width: 320px;
      }

      /* Styles for the SVG icon in the header */
      .svg-icon {
        width: 1.5rem; /* Tailwind size-6 */
        height: 1.5rem; /* Tailwind size-6 */
        stroke-width: 1.5; /* Tailwind stroke-width-1.5 */
      }

      /* NEW: Styles for the delete button and icon */
      .delete-button {
        margin-left: 0.5rem; /* ml-2 */
        padding: 0.25rem; /* p-1 */
        transition: all 150ms ease-in-out; /* transition duration-150 ease-in-out */
      }

      .delete-btn-icon {
        width: 1rem; /* w-4 */
        height: 1rem; /* h-4 */
        color: #f87171; /* text-red-400 */
        stroke-width: 2; /* stroke-width-2, based on the SVG definition */
        transition: color 150ms ease-in-out;
      }

      .delete-button:hover .delete-btn-icon {
        color: #dc2626; /* hover:text-red-600 (applies to the child icon) */
      }
    </style>
  </head>
  <body>
    <div id="app">
      <h1 class="header">
        <!-- Applying the new class to the header SVG -->
        <svg
          class="svg-icon mr-2 text-indigo-600"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
          ></path>
        </svg>
        Saved Highlights
      </h1>

      <div id="highlight-list" class="highlight-list space-y-3 p-1">
        <!-- Highlights will be rendered here -->
        <p id="loading-message" class="text-sm text-gray-500">
          Loading highlights...
        </p>
      </div>

      <button id="clear-all" class="button-clear">Clear All Highlights</button>
    </div>

    <div id="confirmation-modal">
      <div class="modal-content">
        <h3 class="text-lg font-semibold mb-3">Are you sure?</h3>
        <p class="text-sm text-gray-600 mb-5" id="confirm-message">
          This action cannot be undone.
        </p>
        <div class="flex justify-end space-x-3">
          <button
            id="cancel-confirm"
            class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg text-sm hover:bg-gray-300"
          >
            Cancel
          </button>
          <button
            id="execute-confirm"
            class="px-4 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600"
          >
            Delete
          </button>
        </div>
      </div>
    </div>

    <!-- NEW: Link to external JavaScript file -->
    <script src="popup.js"></script>
  </body>
</html>
